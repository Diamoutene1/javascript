<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Exercice 2</title>
    <style>
        #total {
            margin: 20px auto;
        }
        .contient {
            background: yellow;
        }
        .mot {
            background: red;
        }
    </style>
</head>
<body>
<h1>Une page de texte</h1>

<section id="controls">
</section>

<section id="total"></section>

<section id="texte">
    <p>Lorem ipsum dolor sit amet. Ab nostrum voluptatem aut obcaecati dolor eos sint consequatur est consequuntur aliquam ut dignissimos fugiat aut debitis delectus ex ducimus quia. Hic sint doloribus et corrupti explicabo ut facere obcaecati. Sed libero dolore vel doloribus aliquid cum debitis vero. Non omnis quam vel laudantium aperiam in mollitia nisi. Aut nostrum odio hic unde galisum in consequuntur rerum. Eos impedit voluptatem est adipisci aspernatur quo quia amet non incidunt pariatur non architecto laudantium. Quo maxime eligendi aut magni fugit est quibusdam numquam At enim numquam! Est architecto minima eos assumenda quos vel voluptates praesentium! Ut tenetur ducimus vel consectetur dolor vel illo voluptatibus et delectus ipsa qui iusto repellendus est doloremque dolore. </p>
    <p>Nam velit quia eos possimus dignissimos aut inventore quis vel fuga fugit ut dicta aspernatur id internos omnis. Vel dolorem placeat qui ducimus maxime qui tenetur dolor. Sit voluptatibus illum et laudantium animi id natus placeat. Aut porro ducimus in temporibus dolorum ea dolorem debitis non veritatis aliquam in incidunt dolorem et voluptates autem sit eius tempore. Hic consequatur aspernatur et harum nulla hic tenetur doloribus ut voluptas nisi. </p>
    <p>Qui debitis recusandae vel voluptatibus itaque id tempora temporibus et similique magni rem debitis quibusdam hic alias possimus id nostrum omnis. Non modi facere sit repudiandae galisum ab excepturi accusamus qui repellat quia. Et quis consequatur et sunt debitis qui maiores perferendis qui earum error et corporis voluptatum in dolorum voluptate qui quisquam unde! Qui officiis facere eum internos magni et deleniti saepe ea repellat animi et enim sunt. Aut dolorem voluptas ut quos nostrum id ducimus modi At nemo doloribus. </p>
    <p>Eos Quis omnis et quis temporibus qui tempora quia. Est possimus accusantium in quia quas ut voluptas  et voluptatem minima sit veritatis perferendis et architecto quasi et laboriosam delectus. Et architecto esse et veritatis esse cum reprehenderit assumenda. Quo veritatis voluptatem qui facilis facilis in voluptatem eaque rem explicabo  cum maiores minus. Sed labore rerum ut nisi quam qui molestias asperiores qui dolores vitae ut perferendis atque. Et repudiandae omnis qui quidem minus ex praesentium repudiandae  eveniet totam sed iusto omnis rem recusandae magni. Aut voluptatem perferendis in tempora galisum sed voluptas perspiciatis non eius asperiores et blanditiis sunt non magnam itaque? </p>
    <p>Eum molestiae nulla id rerum voluptatem est molestias aperiam et impedit laudantium sed voluptate quaerat ut totam unde. Ut repudiandae minima et dolorem officiis sit laudantium fugiat in optio autem qui perferendis autem! In doloribus sunt ad vero explicabo et odit quia est molestias aspernatur eum voluptate suscipit id culpa modi in rerum rerum. Et laudantium quia aut optio ducimus et itaque quod ut vitae dolore vel sunt eius ut explicabo libero. Sed amet voluptate qui quidem  ut magni blanditiis. Ut libero galisum et libero dicta est corporis mollitia qui quia sint qui quis nobis rem voluptas repudiandae et molestias earum. Et dolorum alias eos numquam autem sit delectus quas et autem veritatis. </p>
    <p>A vitae doloribus cum tempore unde eos quia blanditiis ex dolorem perferendis id consectetur nemo est recusandae nostrum. Sit consequuntur assumenda est galisum veritatis et vitae deleniti nam numquam galisum. Ad quae laborum et fugiat voluptatibus qui nisi atque ut molestiae quibusdam! Rem minima rerum qui tempora incidunt rem temporibus debitis et consequatur ratione ab magni minima sed aliquam iste ea quas temporibus. Quo dolores accusantium ut placeat adipisci ut dolor quidem qui maxime reprehenderit  doloremque corrupti  quia incidunt. Ut laudantium voluptatem et dicta impedit aut assumenda expedita id eveniet fugiat ea eligendi adipisci 33 omnis odit aut molestias nesciunt. Vel voluptatem facilis et autem accusamus et earum minus vel modi velit a facere rerum a voluptatibus incidunt. </p>
    <p>In laudantium autem eos voluptatem obcaecati aut perspiciatis tempora! A excepturi similique aut autem odio eum repellat sint ea nesciunt aspernatur eos impedit dolores qui necessitatibus maxime At laborum animi. Qui doloribus odit vel galisum repellendus a ipsam suscipit non quidem quod  nisi aspernatur. In debitis omnis hic sapiente facere qui harum voluptates est repellendus voluptatum vel voluptatem odit et consequatur architecto! Ut voluptatem nostrum non sunt Quis et corporis sunt ut sequi nisi ut nesciunt odit est libero similique. </p>
    <p>Ad mollitia quas qui minus ipsam qui sunt inventore ex consequatur aliquam qui amet quas et dolorem placeat qui porro neque! Aut galisum incidunt est excepturi galisum est autem labore? Ut eius dolor  enim beatae non  ducimus? Sed sapiente quaerat ut eligendi sequi est voluptas delectus ut natus consequatur eos impedit consequatur eos omnis voluptas et autem natus? Et odit quia aut sunt omnis in dolorem beatae et sequi fugiat et porro ipsum. Eos quia suscipit et consequatur ipsa aut nihil omnis a natus magnam sit delectus autem qui autem beatae. Ad fugiat accusantium ex  galisum At perspiciatis tempora ex harum nostrum 33 maxime temporibus. Ut doloremque molestiae eos reiciendis incidunt rem quas nostrum ea facere enim. Aut pariatur saepe in velit internos quo sint temporibus eos rerum maiores et  enim sed delectus voluptatem est aliquid amet. </p>
    <p>Eum fuga quia ea explicabo dolor sit officia delectus a consequatur saepe ea dignissimos minus quo iusto quis. Et dolorum porro in alias odit rem autem eius sit aspernatur voluptatibus qui dolorem alias cum illo possimus! Sit deleniti necessitatibus vel veritatis iste aut omnis temporibus ea aliquid consequuntur sit voluptatem nesciunt id animi eligendi ab ipsum omnis. Aut tenetur amet ex quae perferendis ut voluptas vero. In quae repellat qui tempora consequatur eum voluptates esse a velit quis. </p>
    <p>Aut rerum magnam sed repellat perspiciatis et placeat commodi est quia exercitationem sit eveniet asperiores. Et magnam sint et laborum voluptas qui corrupti consequatur sed eius dicta et omnis eveniet. Et doloribus rerum aut optio enim aut sint vitae rem quis adipisci sit incidunt consequuntur qui itaque mollitia et neque illum. Rem fugiat vitae et veritatis corrupti ad fugit dolores nam cupiditate iusto eos illo similique. Ut atque voluptas est doloremque dolor et nemo quaerat. Aut voluptate minima aut rerum eaque est dignissimos autem. Et incidunt voluptatem est sunt eaque ea natus dolorum qui facere quibusdam. </p>
    <p>Aliquid reprehenderit est expedita quis non eaque optio sed modi quas est dolores distinctio ut voluptate sunt est iusto voluptatibus. Non neque quos et ipsum facilis ab consequatur eveniet et asperiores nobis et sunt deserunt eum consequuntur veritatis et laboriosam voluptatem. Ut nostrum obcaecati et sequi enim nam alias repellendus ex incidunt  eum consectetur minus. Et accusamus incidunt aut explicabo magnam et aperiam cumque hic ullam aliquam qui quasi voluptatem. Est recusandae galisum At culpa rerum et libero animi quo illum natus quo distinctio quod qui incidunt adipisci. Ut obcaecati dolores eum numquam velit qui itaque debitis. Aut voluptates iste eos esse doloribus sed neque sequi quo voluptas autem ea numquam distinctio est voluptatem assumenda. </p>
    <p>Non maxime harum aut ducimus incidunt ut dolorem omnis id accusantium ratione aut sint optio 33 distinctio quod. Sit impedit dolores et ipsum dolor ut possimus quia eos voluptates ipsam. Qui quod doloremque qui iste possimus At accusamus quae est quos libero et culpa laboriosam aut deleniti culpa. Qui voluptas odio aut laborum quia ea fugiat quisquam et alias quae est fuga quae et laborum aspernatur. 33 rerum facere ut porro voluptatem et aliquid omnis et magni porro ex commodi accusantium. Ut natus nemo aut alias illum et enim aliquid id magni omnis ab iure omnis. Ut nostrum minus et explicabo animi est itaque ipsam eos distinctio dolores et dolores reiciendis ex velit dolor. </p>
    <p>Sit enim consequatur qui provident saepe sit modi laudantium 33 sunt distinctio et omnis veniam. Ab possimus dignissimos sit excepturi neque quo consequatur facere et illo voluptatem! Et ipsam internos aut unde dolores vel iure accusamus sed sint maiores non magni reprehenderit et velit distinctio. Est doloribus magnam sed voluptas velit est temporibus atque eos delectus architecto. Hic sunt fuga et praesentium illum ab nisi molestiae. Ut dignissimos facere eos placeat perspiciatis sed sint sint 33 voluptas nulla ex recusandae omnis. Aut dolores laboriosam est voluptatem nulla ut consequuntur illum ut quia repellendus ut sapiente labore in autem modi? Et quisquam maxime non quidem molestiae qui atque dolorem qui corporis blanditiis est quia dolorem qui cumque rerum id autem officia. Non doloremque assumenda ut molestiae asperiores qui laboriosam corporis. </p>
    <p>Qui harum quam non accusantium ducimus sed fugiat provident? Est harum adipisci et expedita voluptates 33 dolores labore ut rerum eius? Et omnis unde et temporibus quod 33 minima omnis sit neque maiores. Ut natus architecto 33 natus quia ea odit quis qui accusantium atque ut consequuntur perferendis aut quae dolorem non officia facere. Eos odit accusantium et perspiciatis debitis sit expedita praesentium et deserunt dolorum. </p>
    <p>Est iste obcaecati est dolor ducimus rem consectetur obcaecati. Et iste magni et perferendis accusantium eum nemo voluptas et repellendus eligendi sit repellat quia ut nisi quaerat. Et ipsa incidunt  minus laboriosam sed aspernatur aspernatur sed voluptatibus nostrum qui voluptas corrupti qui quidem voluptate. Non repellendus optio non repellendus temporibus quo accusantium maxime et officia soluta sed autem molestiae et tempora autem. Ut voluptatum suscipit At rerum porro et natus facilis vel cumque magni. </p>
</section>

<script>

    function surligner(word){
        let paragraphes = document.querySelectorAll("#texte p");

        for(let i = 0; i < paragraphes.length; i++){
            let paragraphe = paragraphes[i];

            if(paragraphe.textContent.includes(word)){
                paragraphe.classList.add('contient');
            } else {
                paragraphe.classList.remove('contient');
            }
        }
    }

    surligner("dolorem");

    function nombre(word, texte) {
        // Utilisation d'une expression régulière avec le marqueur 'g' pour trouver toutes les occurrences de word dans texte
        var regex = new RegExp('\\b' + word + '\\b', 'g');
        
        // Utilisation de la méthode match() pour trouver toutes les correspondances
        var occurrences = texte.match(regex);

        // Retourner le nombre d'occurrences (si aucune occurrence n'est trouvée, la méthode match() renvoie null)
        return occurrences ? occurrences.length : 0;
    }

    // Texte dans lequel rechercher le mot
    var texteComplet = document.querySelector("#texte").textContent;

    // Mot à rechercher
    var motCherche = "dolorem";

    // Utiliser la fonction nombre() pour trouver le nombre d'occurrences du mot dans le texte
    var nombreOccurrences = nombre(motCherche, texteComplet);

    // Afficher le résultat dans la section d'identifiant total
    document.querySelector("#total").textContent = "Le mot '" + motCherche + "' apparaît " + nombreOccurrences + " fois dans le texte.";




    
    /**
     * L'exercice manipule les paragraphes de la section d'identifiant texte pour effectuer des recherches de mots
     *
     * La CSS incluse en début de ce fichier HTML définit 2 classes CSS : contient et mot qui serviront pour surligner
     * des paragraphes ou des mots.
     */

    /**
     * Question 1 :
     *  écrire une fonction surligner(word) qui prend en argument une chaine de caractères
     *  et qui met en jaune les paragraphes contenant cette chaine (classe CSS contient)
     *
     *  Tester avec le mot dolorem, vous devez obtenir l'équivalent de la capture 1
     */



    /**
     * Question 2
     * écrire une fonction nombre(word, texte) qui prend en argument deux chaines de caractères :
     *   - word : le mot cherché
     *   - texte : le texte dans lequel il faut chercher la chaine word
     * et qui renvoie le nombre d'occurences de word dans texte
     *
     * Remarque : on pourra s'inspirer de l'exercice 1 du TP7 pour cela
     *
     * Utiliser cette fonction pour trouver le nombre d'occurences du mot dolorem (il y en a 19)
     * et afficher le résultat dans la section d'identifiant total
     * Voir capture 2 pour le rendu
     */



    /**
     * Question 3
     * écrire une fonction mettreTitle(word) qui prend en argument une chaine de caractères
     * et qui ajoute l'attribut title à chaque paragraphe en y indiquant le nombre d'occurences pour ce paragraphe
     * de la chaine cherchée
     *
     * Utiliser cette fonction pour le mot dolorem (il apparait respectivement 1, 3 et 1 fois dans les 3 premiers
     * paragraphes). L'attribut title s'affiche au survol du paragraphe (sans bouger la souris).
     * Voir capture 3 pour le rendu.
     */



    /**
     * Question 4
     * - partie HTML : dans la section d'identifiant controls, écrire le code HTML pour avoir un formulaire
     *   avec un champ de texte et un bouton submit
     *   Voir capture 4 pour le rendu
     * - faire que le formulaire capte le submit en appelant la fonction callback rechercher
     * - au submit, on veut effectuer la recherche du mot saisi dans le formulaire
     *   Écrire la fonction rechercher qui va utiliser les 3 fonctions précédentes pour mettre les
     *   paragraphes en jaune, afficher le total des occurences et avoir les attributs title avec les bonnes valeurs
     *   Attention : avant de faire la recherche, la fonction rechercher devra enlever la classe contient de
     *     tous les paragraphes sinon ceux de la recherche précédente restent en jaune
     *
     *   Voir capture 4 pour un exemple en cherchant nostrum
     */



    /**
     * Question 5
     * écrire une fonction surlignerMots(word) qui prend en argument une chaine de caractères
     * et qui surligne en rouge (classe CSS mot) chaque occurence trouvée dans le texte.
     * Ajouter l'appel à surlignerMots dans la fonction rechrecher de la question précédente
     *
     * Attention 1 : utilisation de innerHTML est INTERDITE
     * Attention 2 : il faut là aussi commencer par enlever le surlignage des mots effectués lors de la recherche précédente
     *
     * Indication 1 : pour surligner un mot il faut insérer une balise <span class="mot">...</span> autour du mot trouvé
     *   On pourra utiliser la méthode split https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split
     * Indication 2 : pour enlever le surlignage on peut prendre le textContent de chaque paragraphe (ce qui donne le
     *   texte brut sans HTML) et le remettre comme texteContent du paragraphe lui-même
     *
     *   Voir capture 5 pour un exemple en cherchant numquam
     */


</script>


</body>
</html>